Rewrite the plan document outlined in @claude_docs/design.md by following these steps:

1. Review the project requirements in @claude_docs/requirements.md.
2. Read and review the project source code to understand the current implementation state.
3. Update the design so it is consistent with the current implementation state, and include any missing functionality and features needed to meet the requirements.
